$(function(){$("#nav-toggle").on("click",function(){$("#header").hasClass("nav-menu-show")?$("#header").removeClass("nav-menu-show"):$("#header").addClass("nav-menu-show")});var n=function(){var n=navigator.userAgent;return{isIos:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isWx:!!n.match(/MicroMessenger/i),isAndroid:n.indexOf("Android")>-1||n.indexOf("Linux")>-1}}(),a=n.isWx?"/download.html":n.isIos?"https://itunes.apple.com/app/id1022738655?mt=8":"http://www.huizhaofang.com/download/hfq/hfq_1.0.apk";$(".download-link").attr("href",a)});
;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){if(e.support.cors||!e.ajaxTransport||!window.XDomainRequest)return e;var t=/^(https?:)?\/\//i,o=/^get|post$/i,n=new RegExp("^(//|"+location.protocol+")","i");return e.ajaxTransport("* text html xml json",function(r,s){if(r.crossDomain&&r.async&&o.test(r.type)&&t.test(r.url)&&n.test(r.url)){var a=null;return{send:function(t,o){var n="",i=(s.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(s.timeout)&&(a.timeout=s.timeout),a.ontimeout=function(){o(500,"timeout")},a.onload=function(){var t="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,n={code:200,message:"success"},r={text:a.responseText};try{if("html"===i||/text\/html/i.test(a.contentType))r.html=a.responseText;else if("json"===i||"text"!==i&&/\/json/i.test(a.contentType))try{r.json=e.parseJSON(a.responseText)}catch(s){n.code=500,n.message="parseerror"}else if("xml"===i||"text"!==i&&/\/xml/i.test(a.contentType)){var c=new ActiveXObject("Microsoft.XMLDOM");c.async=!1;try{c.loadXML(a.responseText)}catch(s){c=void 0}if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw n.code=500,n.message="parseerror","Invalid XML: "+a.responseText;r.xml=c}}catch(p){throw p}finally{o(n.code,n.message,r,t)}},a.onprogress=function(){},a.onerror=function(){o(500,"error",{text:a.responseText})},s.data&&(n="string"===e.type(s.data)?s.data:e.param(s.data)),a.open(r.type,r.url),a.send(n)},abort:function(){a&&a.abort()}}}}),e});
;!function(){function t(t){this.timestamp=+new Date,this.path=t&&t.url?t.url:""}t.prototype.src=function(t){for(var e="http://www.huifenqi.com/statis/cs.gif",n="",o=0;o<t.length;o++)n+=encodeURIComponent(t[o].key)+"="+encodeURIComponent(t[o].val)+"&";var a=e+"?"+n.replace(/&$/i,"");return a},t.prototype.end=function(t){var e=window.document.domain||"",n=window.document.location.pathname||"",o=[{key:"time",val:+new Date-this.timestamp},{key:"code",val:t&&"undefined"!=typeof t.code?t.code:""},{key:"hs",val:t&&t.hs?t.hs:""},{key:"path",val:this.path},{key:"domain",val:e},{key:"pathname",val:n}],a=new Image;a.src=this.src(o)},"function"!=typeof window.Track&&(window.Track=t)}(),function(){var t={ajax:function(t,e,n){"boolean"==typeof e&&(n=e);var o="boolean"!=typeof n||n?new Track(t):void 0,a={type:t.type||"GET",url:t.url,data:t.data||"",dataType:t.dataType||"json",cache:t.cache||!1,success:function(t){var n="undefined"!=typeof t.status&&"undefined"!=typeof t.status.code,a=n?t.status.code:1;void 0!==typeof o&&o.end({code:n?t.status.code:""}),"function"==typeof e&&("0"==a?e(null,t.result):e({code:a,description:t.status.description||"出错了"},t))},error:function(t){if(void 0!==typeof o&&o.end({hs:t.status>0?t.status:""}),"function"==typeof e){var n=t.status>0?t.status:1;e({code:n,description:"出错了"})}}};$.ajax(a)},getQueryString:function(t,e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=t.match(n);return null!=o?unescape(o[2]):null}};"function"!=typeof window.Util&&(window.Util=t)}();
;function hex_sha1(a){return binb2hex(core_sha1(AlignSHA1(a)))}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc")}function core_sha1(a){for(var e=a,r=Array(80),n=1732584193,t=-271733879,s=-1732584194,c=271733878,f=-1009589776,d=0;d<e.length;d+=16){for(var o=n,h=t,u=s,_=c,i=f,l=0;80>l;l++){r[l]=16>l?e[d+l]:rol(r[l-3]^r[l-8]^r[l-14]^r[l-16],1);var A=safe_add(safe_add(rol(n,5),sha1_ft(l,t,s,c)),safe_add(safe_add(f,r[l]),sha1_kt(l)));f=c,c=s,s=rol(t,30),t=n,n=A}n=safe_add(n,o),t=safe_add(t,h),s=safe_add(s,u),c=safe_add(c,_),f=safe_add(f,i)}return new Array(n,t,s,c,f)}function sha1_ft(a,e,r,n){return 20>a?e&r|~e&n:40>a?e^r^n:60>a?e&r|e&n|r&n:e^r^n}function sha1_kt(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function safe_add(a,e){var r=(65535&a)+(65535&e),n=(a>>16)+(e>>16)+(r>>16);return n<<16|65535&r}function rol(a,e){return a<<e|a>>>32-e}function AlignSHA1(a){for(var e=(a.length+8>>6)+1,r=new Array(16*e),n=0;16*e>n;n++)r[n]=0;for(n=0;n<a.length;n++)r[n>>2]|=a.charCodeAt(n)<<24-8*(3&n);return r[n>>2]|=128<<24-8*(3&n),r[16*e-1]=8*a.length,r}function binb2hex(a){for(var e=hexcase?"0123456789ABCDEF":"0123456789abcdef",r="",n=0;n<4*a.length;n++)r+=e.charAt(a[n>>2]>>8*(3-n%4)+4&15)+e.charAt(a[n>>2]>>8*(3-n%4)&15);return r}function calcDigest(){var a=hex_sha1(document.SHAForm.SourceMessage.value);document.SHAForm.MessageDigest.value=a}var hexcase=0,chrsz=8;
;function verification(i,a){function t(){var a=(new Date).getTime(),t=r(),n=i.platform,o=hex_sha1("noncestr="+t+"&platform="+n+"&apiUrl=/reqimgcaptcha/&timestamp="+a),e={phone:i.phone,platform:i.platform,timestamp:a,noncestr:t,sign:o},c="http://www.huifenqi.com/c/reqimgcaptcha/?"+$.param(e);$(".verification").find(".verification-img").html('<img src="'+c+'" />')}function n(){var i=$(".verification-main").width(),a=$(".verification-main").height();$(".verification-main").css({"margin-top":-a/2-100,"margin-left":-i/2})}function o(){var n=$(this);if(!n.hasClass("disabled")){var o=$("#verification-code").val();if(0!==o.length){n.addClass("disabled");var r={type:"POST",url:"http://www.huifenqi.com/c/reqcaptcha/",data:{phone:i.phone,type:1,img_captcha:o,platform:i.platform,output_type:"json"}};Util.ajax(r,function(i){if(n.removeClass("disabled"),i){t();var o=i.description||"出错了";return $(".verification-form-group").addClass("error"),void $(".verification-form-group-tips").text(o)}$(".verification").find(".verification-main").html('<div class="verification-success">验证码短信发送成功</div>').end().fadeOut(1e3),"function"==typeof a&&a()})}}}function r(){for(var i="",a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t=0;16>t;t++)i+=a[parseInt(51*Math.random())];return i}var e='<div class="verification"><div class="verification-bg op25"></div><div class="verification-main bdr5"><div class="verification-img" title="点击刷新图片验证码"></div><div class="verification-form"><div class="verification-form-group"><label for="verification-code">验证码</label><input id="verification-code" type="text" name="verification"><p class="verification-form-group-tips"></p></div></div><div class="verification-bar"><span class="verification-cancel bdr3">取消</span><span class="verification-sure bdr3">确认</span></div></div></div>';$(e).appendTo("body").on("click",".verification-img",function(){t()}).on("click",".verification-sure",function(){o.call(this)}).on("click",".verification-cancel",function(){$(".verification").remove(),GLOBAL_CODE_WAIT=!1}).on("focus",".verification-form-group input",function(){$(".verification-form-group").removeClass("error")}),t(),n()}