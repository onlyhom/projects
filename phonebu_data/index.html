<!doctype html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>风步 项目管理</title>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="keywords" content="风步项目">  
    <meta name="description" content="风步项目">
    <link rel="shortcut icon" href="images/favicon.ico">

    <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="js/sweetalert.min.js"></script>
    <script type="text/javascript" src="js/vue.js" ></script>
    <script type="text/javascript" src="js/page.js" ></script>

    <link rel="stylesheet" type="text/css" href="css/public.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/sweetalert.css">

    <!--[if lt IE 9]>  
        <script src="js/html5.js" type="text/javascript"></script>
    <![endif]-->

    <!--[if (IE 8)|(IE 7)|(IE 6)]>
    <link rel="stylesheet" type="text/css" href="css/style-ie.css" />
    <div id="ieTips"><p>您的浏览器版本过低，请升级到 IE10以上或更换Chrome,firefox等浏览器获得流畅的浏览效果！</p></div>
    <![endif]-->
</head>
<body>



    <div class="container">

        <ol class="breadcrumb">
            <li>公司项目</li>
        </ol>

        <div id="main" class="main">
            <div class="projectList">

                <!-- ********** 循环数据 显示所有项目 ********** -->
                <div class="col-lg-3 col-md-3 project" v-for="(item,index) in projectData">
                    <a v-bind:href="item.url">
                        <div class="cell">
                            <h1>{{item.name}}</h1>
                        </div>
                    </a>
                    <p>{{item.time}} <i class="delete" v-on:click="deleteProject(index)">删除</i></p>
                </div>


                <!-- ********** 新建项目 ********** -->
                <div class="col-lg-3 col-md-3 project">
                    <a href="createProject.html">
                        <div class="cell">
                            <div class="icon">
                                <i></i>
                            </div>
                            <h2>新建项目</h2>
                        </div>
                        <p>2017/03/14</p>
                    </a>
                </div>

            </div>
        </div>
    </div>







<script type="text/javascript">


// 测试数据
var testProjectData = [
    { 
        id:'0',
        url:'project.html',
        name:'项目名称1',
        time:'2016/01/15'
    },
    { 
        id:'1',
        url:'project.html',
        name:'项目名称2',
        time:'2016/02/15'
    },
    { 
        id:'3',
        url:'project.html',
        name:'项目名称3',
        time:'2017/01/15'
    },
    { 
        id:'4',
        url:'project.html',
        name:'项目名称4',
        time:'2017/02/15'
    },
    {   
        id:'5',
        url:'project.html',
        name:'项目名称5',
        time:'2017/03/15'
    }
];


//-----------------------------------------------
// vue组件
var vm = new Vue({
    el: '#main',
    data: {
        projectData : testProjectData
    },
    methods:{
        deleteProject:function(index){
            swal({
                title: "删除项目",
                text: "删除项目后不可恢复,确认删除？",
                type: "warning",
                showCancelButton: true,
                confirmButtonColor: "#DD6B55",
                confirmButtonText: "删除",
                cancelButtonText: "取消",
                closeOnConfirm: false
            },
            function(){
                vm.projectData.splice(index,1);  //从数组中删除数据
                swal({
                    title: "删除成功",
                    type: "success",
                    confirmButtonColor: "#4daef5",
                    confirmButtonText: "完成"
                });
            });
        }
    }
});




</script>

</body>
</html>