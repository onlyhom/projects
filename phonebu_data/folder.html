<!doctype html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>风步 项目详情</title>
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="keywords" content="风步项目">  
    <meta name="description" content="风步项目">
    <link rel="shortcut icon" href="images/favicon.ico">

    <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="js/sweetalert.min.js"></script>
    <script type="text/javascript" src="js/vue.js" ></script>
    <script type="text/javascript" src="js/page.js" ></script>

    <link rel="stylesheet" type="text/css" href="css/public.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/sweetalert.css">

    <!--[if lt IE 9]>  
        <script src="js/html5.js" type="text/javascript"></script>
    <![endif]-->

    <!--[if (IE 8)|(IE 7)|(IE 6)]>
    <link rel="stylesheet" type="text/css" href="css/style-ie.css" />
    <div id="ieTips"><p>您的浏览器版本过低，请升级到 IE10以上或更换Chrome,firefox等浏览器获得流畅的浏览效果！</p></div>
    <![endif]-->
</head>
<body>



    <div class="container">

        <ol class="breadcrumb">
            <li><a href="index.html">公司项目</a></li>
            <li><a href="project.html">项目名称</a></li>
            <li>设计图</li>
        </ol>

        <div id="main" class="main">

            <!--  *************** 文件 *************** -->
            <div class="section">
                <div class="menuTitle">
                    设计图
                    <div class="addBtn">上传文件</div>
                </div>

                <div class="folderList row">

                    <!-- ********** 无文件时显示此div *********** -->
                    <div class="noData" v-show="fileData.length==0">上传文件，开始协作</div>

                    <!-- ********** 循环数据 显示所有文件 *********** -->
                    <div class="col-lg-2 col-md-2 folder" v-for="(item,index) in fileData">
                        <div class="cell">
                            <img src="images/file.png" alt="">
                            <h2>{{item.name}}</h2>
                        </div>
                        <div class="menu">
                            <a class="download" v-bind:href="item.downloadURL">下载</a>
                            <i class="delete" v-on:click="deleteFile(index)">删除</i>
                        </div>
                    </div>

                </div>
            </div>


        </div>
    </div>



<script type="text/javascript">


// 文件测试数据
var testFileData = [
    { 
        id:'0',
        name:'图标.psd',
        downloadURL:'1.psd'
    },
    { 
        id:'1',
        name:'源文件.zip',
        downloadURL:'1.zip'
    },
    {   
        id:'2',
        name:'预览图.png',
        downloadURL:'1.png'
    }
];





//-----------------------------------------------
// vue组件
var vm = new Vue({
    el: '#main',
    data: {
        fileData : testFileData
    },
    methods:{
        deleteFile:function(index){
            swal({
                title: "删除文件",
                text: "删除文件后不可恢复,确认删除？",
                type: "warning",
                showCancelButton: true,
                confirmButtonColor: "#DD6B55",
                confirmButtonText: "删除",
                cancelButtonText: "取消",
                closeOnConfirm: false
            },
            function(){
                vm.fileData.splice(index,1);  //从数组中删除数据
                swal({
                    title: "删除成功",
                    type: "success",
                    confirmButtonColor: "#4daef5",
                    confirmButtonText: "完成"
                });
            });
        }
    }
});







</script>

</body>
</html>